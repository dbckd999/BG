<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="study.projectBG.BG.mapper.AdminRestroomMapper">
	<!-- study.projectBG.BG.model.MapDTO -->
	
	<select id="showRestroomList" resultType="study.projectBG.BG.model.MapDTO">
		SELECT * FROM restroom
	</select>
	
	  <!-- MySQL-->
    <!-- 게시물 목록(페이징) -->
    <select id="getListPaging" resultType="study.projectBG.BG.model.MapDTO">
        select * 
        from restroom  
        <if test="keyword != null">
        <![CDATA[where restroom_name like concat('%',#{keyword},'%')]]>  
        </if>
        order by id desc 
        <!-- limit ((${pageNum}-1)*${amount}), ${amount} -->
        limit #{skip},#{amount}
    </select>
    
    <select id="getTotal" resultType="int">
        select count(*) from restroom
         <if test="keyword != null">
        <![CDATA[where restroom_name like concat('%',#{keyword},'%')]]>  
        </if>
    </select>
	
</mapper>